// +build amd64

package domain

import "testing"

type domainCompareTestCase struct {
	a string
	b string
	n int
}

var domainCompareTestCases = []domainCompareTestCase{
	{"z\x00\x00\x00\x00\x00\x00\x00", "z\x00\x00\x00\x00\x00\x00\x00", 0},
	{"a\x00\x00\x00\x00\x00\x00\x00", "b\x00\x00\x00\x00\x00\x00\x00", -1},
	{"b\x00\x00\x00\x00\x00\x00\x00", "a\x00\x00\x00\x00\x00\x00\x00", 1},
	{"yz\x00\x00\x00\x00\x00\x00", "yz\x00\x00\x00\x00\x00\x00", 0},
	{"ab\x00\x00\x00\x00\x00\x00", "ba\x00\x00\x00\x00\x00\x00", 255},
	{"ba\x00\x00\x00\x00\x00\x00", "ab\x00\x00\x00\x00\x00\x00", -255},
	{"xyz\x00\x00\x00\x00\x00", "xyz\x00\x00\x00\x00\x00", 0},
	{"abc\x00\x00\x00\x00\x00", "bca\x00\x00\x00\x00\x00", 130815},
	{"bca\x00\x00\x00\x00\x00", "abc\x00\x00\x00\x00\x00", -130815},
	{"xya\x00\x00\x00\x00\x00", "xyb\x00\x00\x00\x00\x00", -65536},
	{"xyb\x00\x00\x00\x00\x00", "xya\x00\x00\x00\x00\x00", 65536},
	{"wxyz\x00\x00\x00\x00", "wxyz\x00\x00\x00\x00", 0},
	{"abcd\x00\x00\x00\x00", "bcda\x00\x00\x00\x00", 50265855},
	{"bcda\x00\x00\x00\x00", "abcd\x00\x00\x00\x00", -50265855},
}

func TestDomainCompare(t *testing.T) {
	for i, c := range domainCompareTestCases {
		n := Compare(c.a, c.b)
		if n != c.n {
			t.Errorf("%d: expected %d for %q and %q but got %d", i, c.n, c.a, c.b, n)
		}
	}
}
